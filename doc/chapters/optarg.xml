  <chapter id="optarg">
  <title>Options, arguments and path-searching</title>
  
  <sect1 id="optarg1"><title>gretl</title>

    <para>
      <command>gretl</command> (under MS Windows,
      <command>gretlw32.exe</command>)<footnote><para>On Linux, a
	  <quote>wrapper</quote> script named
	  <filename>gretl</filename> is installed.  This script checks
	  whether the <literal>DISPLAY</literal> environment variable
	  is set; if so, it launches the GUI program,
	  <filename>gretl_x11</filename>, and if not it launches the
	  command-line program, <filename>gretlcli</filename>.</para>
	</footnote>
    </para>

    <para>
      &mdash; Opens the program and waits for user input.
    </para>

    <para>
      <command>gretl</command> <replaceable>datafile</replaceable>
    </para>

    <para>
      &mdash; Starts the program with the specified datafile in its
      workspace. The data file may be in native
      <application>gretl</application> format, CSV format, or BOX1
      format (see the &GUG;).  The program
      will try to detect the format of the file and treat it
      appropriately. See also <xref linkend="path-search"/> below for
      path-searching behavior.
    </para>

    <para>
      <command>gretl --help</command> (or <command>gretl -h</command>)
    </para>

    <para>
      &mdash; Print a brief summary of usage and exit.
    </para>

    <para>
      <command>gretl --version</command> (or <command>gretl
	-v</command>)
    </para>

    <para>
      &mdash; Print version identification for the program and exit.
    </para>

    <para>
      <command>gretl --english</command> (or <command>gretl
	-e</command>)
    </para>

    <para>
      &mdash; Force use of English instead of translation.
    </para>

    <para>
      <command>gretl --run</command>
      <replaceable>scriptfile</replaceable> (or <command>gretl
	-r</command> <replaceable>scriptfile</replaceable>)</para>

    <para>&mdash; Start the program and open a window displaying the
      specified script file, ready to run.  See <xref
	linkend="path-search"/> below for path-searching
      behavior.</para>

    <para>
      <command>gretl --db</command>
      <replaceable>database</replaceable> (or <command>gretl
	-d</command> <replaceable>database</replaceable>)</para>

    <para>&mdash; Start the program and open a window displaying the specified
      database.  If the database files (the <filename>.bin</filename> file and
      its accompanying <filename>.idx</filename> file) are not in the default
      system database directory, you must specify the full path.  See also the
      &GUG; for details on databases.
    </para>

    <para>
      <command>gretl --dump</command> (or <command>gretl -c</command>)
    </para>

    <para>&mdash; Dump the program's configuration information to a
      plain text file (the name of the file is printed on standard
      output).  May be useful for trouble-shooting.
    </para>

    <para>
      <command>gretlw32 --debug</command> (or <command>gretlw32 -g</command>)
    </para>

    <para>&mdash; (MS Windows only) Open a console window to display any
      messages sent to the <quote>standard output</quote> or
      <quote>standard error</quote> streams.   Such messages are not
      usually visible on Windows; this may be useful for trouble-shooting.
    </para>

    <para>Various things in <application>gretl</application> are
      configurable under the <quote>File, Preferences</quote>
      menu.</para>  

    <itemizedlist>
      <listitem><para>The base directory for
	  <application>gretl</application>'s shared
	  files.</para></listitem> 
      <listitem><para>The user's base directory for
	  <application>gretl</application>-related
	  files.</para></listitem> 
      <listitem><para>The command to launch
	  <application>gnuplot</application>.
	</para></listitem> 
      <listitem><para>The command to launch GNU R.</para></listitem>
      <listitem><para>The command with which to view &tex; DVI
	  files.</para></listitem> 
      <listitem><para>The directory in which to start looking for
	  native <application>gretl</application>
	  databases.</para></listitem> 
      <listitem><para>The directory in which to start looking for RATS
	  4 databases.</para></listitem> 
      <listitem><para>The host name of the
	  <application>gretl</application> database server to
	  access.</para></listitem> 
      <listitem><para>The IP number and port number of the HTTP proxy
	  server to use when contacting the database server, if
	  applicable (if you're behind a firewall).</para></listitem> 
      <listitem><para>The calculator and editor programs to launch
	  from the toolbar.</para></listitem> 
      <listitem><para>The monospaced font to be used in
	  <application>gretl</application> screen
	  output.</para></listitem> 
      <listitem><para>The font to be used for menus and other
	  messages.  (Note: this item is not present when
	  <application>gretl</application> is compiled for the
	  <application>gnome</application> desktop, since the choice
	  of fonts is handled centrally by
	  <application>gnome</application>.)
	</para></listitem>
    </itemizedlist>

    <para>There are also some check boxes.  Checking the
      <quote>expert</quote> box quells some warnings that are
      otherwise issued.  Checking <quote>Tell me about gretl
	updates</quote> makes <application>gretl</application> attempt
      to query the update server at start-up. Unchecking <quote>Show
	gretl toolbar</quote> turns the icon toolbar off.  If your
      native language setting is not English and the local decimal
      point character is not the period
      (<quote><literal>.</literal></quote>), unchecking <quote>Use
	locale setting for decimal point</quote> will make
      <application>gretl</application> use the period
      regardless.</para>

    <para>Finally, there are some binary choices: Under the
      <quote>Open/Save path</quote> tab you can set where
      <application>gretl</application> looks by default when you go to
      open or save a file &mdash; either the
      <application>gretl</application> user directory or the current
      working directory.  Under the <quote>Data files</quote> tab you
      can set the default filename suffix for data files.  The
      standard suffix is <literal>.gdt</literal> but if you wish you
      can set this to <literal>.dat</literal>, which was standard in
      earlier versions of the program.  If you set the default to
      <literal>.dat</literal> then data files will be saved in the
      <quote>traditional</quote> format (see the &GUG;). Also under
      the <quote>Data files</quote> tab you can select the action for
      the little folder icon on the toolbar: whether it should open a
      listing of the data files associated with Ramanathan's textbook,
      or those associated with Wooldridge's text.</para>

    <para>Under the <quote>General</quote> tab you may select the
      algorithm used by <application>gretl</application> for
      calculating least squares estimates.  The default is Cholesky
      decomposition, which is fast, relatively economical in terms of
      memory requirements, and accurate enough for most purposes.  The
      alternative is QR decomposition, which is computationally more
      expensive and requires more temporary storage, but which is more
      accurate.  You are unlikely to need the extra accuracy of QR
      decomposition unless you are dealing with very ill-conditioned
      data and are concerned with coefficient or standard error values
      to more than 7 digits of precision.<footnote><para>The option of
      using QR decomposition can also be activated by setting the
      environment variable <varname>GRETL_USE_QR</varname> to any
      non-NULL value.</para>
	</footnote>
    </para>

    <para>Settings chosen in this way are handled differently
      depending on the context.  Under MS Windows they are stored in
      the Windows registry.  Under the
      <application>gnome</application> desktop they are stored in
      <filename>.gnome/gretl</filename> in the user's home directory.
      Otherwise they are stored in a file named
      <filename>.gretlrc</filename> in the user's home directory.
    </para>

  </sect1>

  <sect1 id="optarg2"><title>gretlcli</title>

    <para><command>gretlcli</command></para>

    <para>&mdash; Opens the program and waits for user input.
    </para>

    <para><command>gretlcli</command>
      <replaceable>datafile</replaceable></para>  

    <para>&mdash; Starts the program with the specified datafile in
      its workspace. The data file may be in any format supported by
      <application>gretl</application> (see the &GUG; for details).
      The program will try to detect the format of the file and treat
      it appropriately. See also <xref linkend="path-search"/> for
      path-searching behavior.</para>

    <para><command>gretlcli --help</command> (or <command>gretlcli
	-h</command>)</para>

    <para>&mdash; Prints a brief summary of usage.</para>

    <para><command>gretlcli --version</command> (or <command>gretlcli
	-v</command>)</para>

    <para>&mdash; Prints version identification for the
      program.</para>

    <para><command>gretlcli --english</command> (or <command>gretlcli
	-e</command>)</para>

    <para>&mdash; Force use of English instead of translation.</para>

    <para><command>gretlcli --run</command>
      <replaceable>scriptfile</replaceable> (or <command>gretlcli
	-r</command> <replaceable>scriptfile</replaceable>)</para>

    <para>&mdash; Execute the commands in
      <replaceable>scriptfile</replaceable> then hand over input to
      the command line.  See <xref linkend="path-search"/> for
      path-searching behavior.</para>  

    <para><command>gretlcli --batch</command>
      <replaceable>scriptfile</replaceable> (or <command>gretlcli
	-b</command> <replaceable>scriptfile</replaceable>)</para>

    <para>&mdash; Execute the commands in
      <replaceable>scriptfile</replaceable> then exit.  When using
      this option you will probably want to redirect output to a file.
      See <xref linkend="path-search"/> for path-searching
      behavior.</para>

    <para>When using the <command>--run</command> and
      <command>--batch</command> options, the script file in question
      must call for a data file to be opened. This can be done using
      the <command>open</command> command within the script.
    </para>
      
  </sect1>

  <sect1 id="path-search"><title>Path searching</title>

    <para>When the name of a data file or script file is supplied to
      <application>gretl</application> or <application>gretlcli</application> on
      the command line, the file is looked for as follows:</para>

    <orderedlist>
      <listitem><para><quote>As is</quote>.  That is, in the current
	  working directory or, if a full path is specified, at the
	  specified location.</para>
      </listitem>
      <listitem><para>In the user's gretl directory (see <xref
	    linkend="tab-path"/> for the default values).</para>
      </listitem>
      <listitem>
	<para>
	  In any immediate sub-directory of the user's gretl
	  directory.</para></listitem> 
      <listitem>
	<para>
	  In the case of a data file, search continues with the main
	  <application>gretl</application> data directory. In the case of a
	  script file, the search proceeds to the system script directory.  See
	  <xref linkend="tab-path"/> for the
	  default settings. (<filename>PREFIX</filename> denotes the base
	  directory chosen at the time <application>gretl</application> is
	  installed.)
	</para>
      </listitem>
      <listitem>
	<para>
	  In the case of data files the search then proceeds to all immediate
	  sub-directories of the main data directory.
	</para>
      </listitem>
    </orderedlist>

    <table id="tab-path" frame="none">
      <title>Default path settings</title>
      <tgroup cols="3">
	<thead>
	  <row>
	    <entry>&nbsp;</entry>
	    <entry>Linux</entry>
	    <entry>MS Windows</entry>
	  </row>
	</thead>
	<tbody>
	  <row>
	    <entry>User directory</entry>
	    <entry><filename>$HOME/gretl</filename></entry>
	    <entry><filename>PREFIX\gretl\user</filename></entry>
	  </row>
	  <row>
	    <entry>System data directory</entry>
	    <entry><filename>PREFIX/share/gretl/data</filename></entry>
	    <entry><filename>PREFIX\gretl\data</filename></entry>
	  </row>
	  <row>
	    <entry>System script directory</entry>
	    <entry><filename>PREFIX/share/gretl/scripts</filename></entry>
	    <entry><filename>PREFIX\gretl\scripts</filename></entry>
	  </row>
	</tbody>
      </tgroup>
    </table>

    <para>Thus it is not necessary to specify the full path for a data
      or script file unless you wish to override the automatic
      searching mechanism. (This also applies within
      <application>gretlcli</application>, when you supply a filename
      as an argument to the <command>open</command> or
      <command>run</command> commands.)</para>

    <para>When a command script contains an instruction to open a data
      file, the search order for the data file is as stated above,
      except that the directory containing the script is also
      searched, immediately after trying to find the data file
      <quote>as is</quote>.
    </para>

    <sect2 id="MS-behave"><title>MS Windows</title>

      <para>
	Under MS Windows configuration information for
	<application>gretl</application> and
	<application>gretlcli</application> is stored in the Windows
	registry. A suitable set of registry entries is created when
	<application>gretl</application> is first installed, and the
	settings can be changed under
	<application>gretl</application>'s <quote>File,
	  Preferences</quote> menu. In case anyone needs to make
	manual adjustments to this information, the entries can be
	found (using the standard Windows program
	<application>regedit.exe</application>) under
	<literal>Software\gretl</literal> in
	<literal>HKEY_CLASSES_ROOT</literal> (the main
	<application>gretl</application> directory and the command to
	invoke <application>gnuplot</application>) and
	<literal>HKEY_CURRENT_USER</literal> (all other configurable
	variables).</para>

    </sect2>
  </sect1>

  </chapter>


<!-- Keep this comment at the end of the file
Local variables:
sgml-default-dtd-file:"../manual.ced"
mode: xml
sgml-parent-document:("../shell.xml" "book" "chapter")
End:
-->

